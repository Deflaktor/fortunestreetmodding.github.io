{%- comment -%}

This snippet returns the first image with file extension '.png' or '.webp' which is found in the given directory name.

Args:
  directory_name: the name of the directory in which images should be searched in

Returns:
  gpffd_image: the first image item that was found in the given directory

{%- endcomment -%}
{%- assign gpffd_directory_name = include.directory_name -%}
{%- assign gpffd_maps_collection = site.collections | where: "label", "maps" | first -%}
{%- for gpffd_item in gpffd_maps_collection.files -%}
  {%- if gpffd_item.extname == ".png" or gpffd_item.extname == ".webp" -%}
    {%- include getParent.liquid file_path=gpffd_item.path -%}
    {%- if gd_directory_name == gpffd_directory_name -%}
      {%- assign gpffd_image = gpffd_item -%}
      {%- break -%}
    {%- endif -%}
  {%- endif -%}
{%- endfor -%}